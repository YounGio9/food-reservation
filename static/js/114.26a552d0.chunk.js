"use strict";(self.webpackChunkfeeling_food=self.webpackChunkfeeling_food||[]).push([[114],{4531:function(e,t,n){n.r(t),n.d(t,{default:function(){return J}});var s=n(2791),r=n(4165),l=n(1413),a=n(5861),i=n(9439),o=function(e){return e[e.Mardi=2]="Mardi",e[e.Mercredi=3]="Mercredi",e[e.Jeudi=4]="Jeudi",e[e.Vendredi=5]="Vendredi",e[e.Samedi=6]="Samedi",e}({}),c=function(e){return e[e.Janvier=0]="Janvier",e[e["F\xe9vrier"]=1]="F\xe9vrier",e[e.Mars=2]="Mars",e[e.Avril=3]="Avril",e[e.Mai=4]="Mai",e[e.Juin=5]="Juin",e[e["Ao\xfbt"]=6]="Ao\xfbt",e[e.Septembre=7]="Septembre",e[e.Octobre=8]="Octobre",e[e.Novembre=9]="Novembre",e[e["D\xe9cembre"]=10]="D\xe9cembre",e}({}),d=n(1243).Z.create({baseURL:"http://127.0.0.1:8000/api"}),u=n(184),m=(0,s.createContext)({});var x=function(){return s.useContext(m)},h=function(e){var t=(0,s.useState)(0),n=(0,i.Z)(t,2),x=n[0],h=n[1],f=(0,s.useState)({}),b=(0,i.Z)(f,2),v=b[0],p=b[1],j=(0,s.useState)(null),g=(0,i.Z)(j,2),N=g[0],y=g[1],w=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(n){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(p((function(e){return(0,l.Z)((0,l.Z)({},e),n)})),!(x>e.numberOfSteps)){t.next=5;break}return console.log("PAYLOAD \n",v),t.next=5,d.post("/reservations",v).then((function(e){return console.log("API RESPONSE \n",e.data)})).catch((function(e){return console.log(e)}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();(0,s.useMemo)((function(){console.log(v)}),[v]);var S=function(e){console.log("submit"),w(e),h((function(e){return e+1}))};return(0,u.jsx)(m.Provider,{value:{activeStep:x,addFormData:w,handleBack:function(){h((function(e){return e>0?e-1:e}))},handleNext:S,globalData:v,setDate:function(e){console.log("choosen Date",e),y([o[e.getDay()].toLocaleLowerCase(),e.getDate(),c[e.getMonth()].toLocaleLowerCase(),e.getFullYear()].join(" ")),S({reservationDate:e.toLocaleDateString("en-GB")})},setHour:function(e){console.log("chossen time",e),y((function(t){return"".concat(t,"  ").concat(e)})),S({reservationTime:e})},choosenDateInString:N},children:e.children})};var f=n.p+"static/media/custom.74a723cc313312d65036df3f5eb1bc6e.svg";var b=n.p+"static/media/finish.4c5462f1cdef739fdf2f4dcfaeb70e08.svg";var v=n.p+"static/media/guest.857fbd459a15823994d0b3e2ea7b1599.svg";var p=n.p+"static/media/time.332e4aae766b099fddb3bddfc36049c0.svg",j=n(8617);var g=function(){var e=x().activeStep,t=[v,p,f,b].map((function(e){return(0,u.jsx)("img",{src:e,alt:"",width:35,height:35},e)}));return(0,u.jsxs)("div",{className:"pt-6 relative",children:[(0,u.jsx)("hr",{className:"border border-barestho-light-gray min-w-full absolute bottom-5 pl-10"}),(0,u.jsxs)("div",{className:"flex justify-center items-center px-10 relative",children:[0===e&&t[0],(1===e||2===e)&&t[1],3===e&&t[2],4===e&&(0,u.jsx)(j.mhe,{size:40}),5===e&&t[3],6===e&&t[3]]})]})},N=(n(830),n(1351)),y=n(7692);var w=function(e){var t=x().handleBack,n=e.label,s=e.noPadding;return(0,u.jsx)("div",{className:"flex justify-between ".concat(s?"":"px-6"," py-6"),children:(0,u.jsx)("button",{onClick:t,className:"button disabled:border-grey disabled:bg-transparent disabled:text-grey select-none transition-colors border-2 py-2 px-2 relative rounded-full font-semibold text-xs text-right border-black hover:bg-black hover:text-white text-black ",children:(0,u.jsxs)("span",{className:"h-fit flex justify-center items-center",children:[(0,u.jsx)(y.YiX,{fontSize:20})," ",n]})})})};var S=function(){var e=x(),t=e.setDate,n=e.globalData,r=s.useState(),l=(0,i.Z)(r,2),a=l[0],o=l[1];return(0,s.useEffect)((function(){o("Invalid Date"===new Date(n.reservationDate).toString()?new Date:new Date(n.reservationDate))}),[]),console.log("activeDate",a),(0,u.jsxs)("div",{children:[(0,u.jsx)(N.ZP,{value:a,tileClassName:function(e){var t=e.date;return![0,1].includes(t.getDay())&&t>=new Date?"available":""},onClickDay:function(e){return t(e)},minDate:new Date,tileDisabled:function(e){var t=e.date;return[0,1].includes(t.getDay())}}),(0,u.jsx)(w,{label:"Modifier les convives"})]})};var C=function(){var e=s.useState(0),t=(0,i.Z)(e,2),n=t[0],r=t[1],l=s.useState(0),a=(0,i.Z)(l,2),o=a[0],c=a[1],d=x(),m=n+o,h=function(e){var t=function(e){return e<=15&&m<=15?e+1:e};"adults"===e&&r(t),"children"===e&&c(t)},f=function(e){var t=function(e){return e>=1?e-1:e};"adults"===e&&r(t),"children"===e&&c(t)};return(0,u.jsxs)("div",{className:"grid",children:[(0,u.jsxs)("div",{className:"flex p-6 items-center justify-between",children:[(0,u.jsx)("p",{children:"Adultes"})," ",(0,u.jsxs)("div",{className:"flex items-center justify-between basis-[45%]",children:[(0,u.jsx)("button",{onClick:function(){return f("adults")},className:"flex items-center justify-center w-10 h-10 ".concat(n>0?"border-red":"border-grey","   border-2 rounded-full"),children:"-"}),n,(0,u.jsx)("button",{onClick:function(){return h("adults")},className:"flex items-center justify-center w-10 h-10 ".concat(n<=15&&m<=15?"border-red":"border-grey","   border-2 rounded-full"),children:"+"})]})]}),(0,u.jsx)("hr",{className:"min-w-full border border-grey"}),(0,u.jsxs)("div",{className:"flex p-6 items-center justify-between",children:[(0,u.jsx)("p",{children:"Enfants"})," ",(0,u.jsxs)("div",{className:"flex items-center justify-between basis-[45%]",children:[(0,u.jsx)("button",{onClick:function(){return f("children")},className:"flex items-center justify-center w-10 h-10 ".concat(o>0?"border-red":"border-grey","   border-2 rounded-full"),children:"-"}),o,(0,u.jsx)("button",{onClick:function(){return h("children")},className:"flex items-center justify-center w-10 h-10 ".concat(o<=15&&m<=15?"border-red":"border-grey","   border-2 rounded-full"),children:"+"})]})]}),16===m&&(0,u.jsx)("p",{className:"text-xs px-4 py-6 text-white bg-blue text-left",children:"Pour toute r\xe9servation de plus de 16, contactez directement le restaurant."}),(0,u.jsx)("div",{className:"flex p-6 items-center justify-end",children:(0,u.jsxs)("button",{disabled:m<=0,onClick:function(){return d.handleNext({adultsGuests:n,childrenGuests:o})},className:"border-2 transition duration-500  ".concat(0===m?"border-grey text-grey":"border-black","  p-2 text-xs rounded-full"),children:[0===m?"Nombre d'invites":1===m?"Juste moi":"Nous serons ".concat(m),"!"]})})]})};var k=function(){var e=x(),t=e.choosenDateInString,n=e.setHour;return(0,u.jsxs)("div",{children:[(0,u.jsx)("h2",{className:"relative text-white pb-6 font-bold text-center bg-[rgb(220,0,68)] pt-4 z-10 select-none",children:t}),(0,u.jsx)("div",{className:"flex items-center justify-center",children:(0,u.jsx)("div",{className:"flex flex-wrap w-[85%] mt-6",children:["12:00","12:30","13:00","13:30","14:00","19:00","19:30","20:00","20:30","21:00","21:30","22:00"].map((function(e){return(0,u.jsx)("button",{onClick:function(){return n(e)},className:"mx-auto mb-2 text-center text-xs font-bold rounded-full w-20 py-2 available",children:e},e)}))})}),(0,u.jsx)(w,{label:" Modifier la date"})]})},D=n(3433),Z=n(71);var M=function(e){var t=x().handleNext,n=e.label,s=e.datas,r=e.noPadding;return(0,u.jsx)("div",{className:"flex ".concat(r?"":"px-6"," justify-between py-6"),children:(0,u.jsx)("button",{onClick:function(){return t(s)},className:"button disabled:border-grey disabled:bg-transparent disabled:text-grey select-none transition-colors border-2 py-2 px-2 relative rounded-full font-semibold text-xs text-right border-black hover:bg-black hover:text-white text-black",children:(0,u.jsxs)("span",{className:"h-fit flex justify-center items-center",children:[n," ",(0,u.jsx)(Z.SZ3,{fontSize:20})]})})})};var z=function(){var e=s.useState("Moment d\xe9tente"),t=(0,i.Z)(e,2),n=t[0],r=t[1],l=s.useState([]),a=(0,i.Z)(l,2),o=a[0],c=a[1],d=function(e){return r(e.target.value)},m=s.useState(""),x=(0,i.Z)(m,2),h=x[0],f=x[1],b=function(e){var t=e.target.value;if(o.includes(t))return c((function(e){return e.filter((function(e){return e!==t}))}));c((function(e){return(0,D.Z)(Array.from(new Set([].concat((0,D.Z)(e),[t]))))}))};return s.useMemo((function(){console.log(n),console.log(o),console.log(h)}),[n,o,h]),(0,u.jsxs)("div",{children:[(0,u.jsxs)("div",{className:"pl-6 pt-6 w-full pr-2",children:[(0,u.jsx)("h2",{className:"text-sm font-bold select-none",children:"Types de repas"}),(0,u.jsx)("div",{className:"text-sm mt-4 mb-6 flex flex-col",children:["Moment d\xe9tente","Repas professionnel","Repas rapide","Anniversaire","Evenement particulier","Autre"].map((function(e){return(0,u.jsxs)("label",{className:"flex mb-4 pl-6 py-2 pr-4 rounded-full text-xs items-center justify-between flex-row-reverse",children:[(0,u.jsx)("input",{type:"radio",name:"option",value:e,checked:(t=e,t===n),onChange:d}),(0,u.jsxs)("span",{className:"select-none font-normal",children:[" ",e]})]},e);var t}))})]}),(0,u.jsx)("hr",{className:"border border-barestho-light-gray min-w-full "}),(0,u.jsxs)("div",{className:"pl-6 pt-6 w-full pr-2",children:[(0,u.jsx)("h2",{className:"text-sm font-bold select-none",children:"Options"}),(0,u.jsx)("div",{className:"text-sm mt-4 mb-6 flex flex-col",children:["Chaise b\xe9b\xe9","Mobilit\xe9 r\xe9duite","Poussette"].map((function(e){return(0,u.jsxs)("label",{className:"flex mb-4 pl-6 py-2 pr-4 rounded-full text-xs items-center justify-between flex-row-reverse",children:[(0,u.jsx)("input",{type:"checkbox",name:"event",value:e,onChange:b}),(0,u.jsxs)("span",{className:"select-none font-normal",children:[" ",e]})]},e)}))})]}),(0,u.jsx)("hr",{className:"border border-barestho-light-gray min-w-full "}),(0,u.jsxs)("div",{className:"pl-6 pt-6 w-full pr-2 mb-6",children:[(0,u.jsx)("h2",{className:"text-sm font-bold select-none",children:"Commentaire"}),(0,u.jsx)("div",{className:"flex flex-col flex-nowrap"}),(0,u.jsx)("textarea",{name:"comment",value:h,onChange:function(e){return f(e.target.value)},id:"comment",className:"placeholder:text-xs placeholder:text-gray p-2 text-sm border-t border-x border-b-2 border-b-red focus:outline-blue rounded-t mt-4",maxLength:255,placeholder:"Quelque chose \xe0 ajouter ?"}),(0,u.jsx)("span",{className:"text-slate-300 text-xs text-right mt-1",children:" "})]}),(0,u.jsxs)("div",{className:"flex justify-between",children:[(0,u.jsx)(w,{label:""}),!!n&&(0,u.jsx)(M,{datas:{options:o,typeOfMeal:n,comment:h},label:"Passer \xe0 la suite"})]})]})},I=n(6362),E=n(9297),B=n(6727),P=n(5705);var A=function(){var e=s.useState(!1),t=(0,i.Z)(e,2),n=t[0],r=t[1],l=x().handleNext,a=B.Ry({lastname:B.Z_().required("Veuillez entrz votre nom !"),firstname:B.Z_().required("Veuillez entrez votre pr\xe9nom !"),email:B.Z_().email("Veuillez entrer un email valide !").required(),phoneNumber:B.Z_().required()}),o=(0,P.TA)({initialValues:{lastname:"",firstname:"",email:"",phoneNumber:""},validationSchema:a,onSubmit:function(e){if(!n){var t=document.getElementById("phoneNumber"),s=window.intlTelInputGlobals.getInstance(t).getSelectedCountryData();e.country=s.name,e.phoneNumber="+".concat(s.dialCode," ").concat(e.phoneNumber),console.log(e),l(e)}}});return s.useEffect((function(){var e=document.getElementById("phoneNumber");window.intlTelInput(e,{onlyCountries:["DE","BE","ES","FR","GB","IT","LU","NL","CH"],localizedCountries:{de:"Allemagne",be:"Belgique",es:"Espagne",it:"Italie",nl:"Pays-bas",gb:"Grande-Bretagne et Irlande du Nord",ch:"Suisse"},utilsScript:"https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/js/utils.js"})}),[]),(0,u.jsx)("div",{className:"px-6 mt-6 w-full",children:(0,u.jsxs)("form",{action:"",className:"flex flex-col justify-items-center",onSubmit:o.handleSubmit,children:[(0,u.jsx)("div",{className:"mb-4",children:(0,u.jsx)(I.Z,{fullWidth:!0,children:(0,u.jsx)(E.Z,{variant:"standard",label:"Pr\xe9nom",name:"firstname",value:o.values.firstname,error:o.touched.firstname&&Boolean(o.errors.firstname),helperText:o.touched.firstname&&o.errors.firstname,onChange:o.handleChange})})}),(0,u.jsx)("div",{className:"mb-4",children:(0,u.jsx)(I.Z,{fullWidth:!0,children:(0,u.jsx)(E.Z,{variant:"standard",label:"Nom",value:o.values.lastname,name:"lastname",error:o.touched.lastname&&Boolean(o.errors.lastname),helperText:o.touched.lastname&&o.errors.lastname,onChange:o.handleChange})})}),(0,u.jsx)("div",{className:"mb-4",children:(0,u.jsx)(I.Z,{fullWidth:!0,children:(0,u.jsx)(E.Z,{variant:"standard",label:"E-mail",value:o.values.email,name:"email",error:o.touched.email&&Boolean(o.errors.email),helperText:o.touched.email&&o.errors.email,onChange:o.handleChange})})}),(0,u.jsxs)("div",{className:"mb-4",children:[(0,u.jsx)(I.Z,{fullWidth:!0,children:(0,u.jsx)(E.Z,{variant:"standard",id:"phoneNumber",label:(0,u.jsx)("p",{className:" ml-8",children:"Num\xe9ro de t\xe9l\xe9phone"}),value:o.values.phoneNumber,name:"phoneNumber",error:o.touched.phoneNumber&&Boolean(o.errors.phoneNumber),helperText:o.touched.phoneNumber&&o.errors.phoneNumber,onChange:function(e){o.handleChange(e);var t=document.getElementById("phoneNumber"),n=window.intlTelInputGlobals.getInstance(t);r(!n.isValidNumber())}})}),n&&String(o.values.phoneNumber).length>0&&(0,u.jsxs)("p",{className:"text-red",children:["Num\xe9ro invalide !"," "]})]}),(0,u.jsxs)("div",{className:"flex justify-between w-full",children:[(0,u.jsx)(w,{noPadding:!0,label:""}),(0,u.jsx)("div",{className:"flex justify-between py-6",children:(0,u.jsx)("button",{type:"submit",className:"button disabled:border-grey disabled:bg-transparent disabled:text-grey select-none transition-colors border-2 py-2 px-2 relative rounded-full font-semibold text-xs text-right border-black hover:bg-black hover:text-white text-black",children:(0,u.jsxs)("span",{className:"h-fit flex justify-center items-center",children:["Test"," ",(0,u.jsx)(Z.SZ3,{fontSize:20})]})})})]})]})})},L=n(8820),T=n(6856);var O=function(){var e=x(),t=e.choosenDateInString,n=e.activeStep,s=e.globalData,r=e.handleNext;return(0,u.jsxs)("div",{children:[5===n&&(0,u.jsxs)("div",{className:" bg-black text-white text-xs w-app font-semibold flex items-center px-6",children:[(0,u.jsx)(L.ocf,{style:{color:"white"},size:80}),(0,u.jsx)("p",{className:"pl-4",children:"Pour confirmer votre r\xe9servation, cliquez sur le bouton r\xe9server tout en bas du formulaire."})]}),(0,u.jsxs)("div",{className:"p-6 pb-0 relative select-none",children:[(0,u.jsxs)("div",{className:"flex items-center mb-6",children:[(0,u.jsx)("img",{src:p,width:"35",alt:"",height:35}),(0,u.jsxs)("p",{className:"text-sm font-bold pl-4",children:[t," "]})]}),(0,u.jsxs)("div",{className:"flex items-center mb-6",children:[(0,u.jsx)("img",{src:v,width:"35",alt:"",height:35}),(0,u.jsxs)("p",{className:"text-sm font-bold pl-4",children:[s.adultsGuests," adultes, ",s.childrenGuests," enfants"," "]})]}),(0,u.jsxs)("div",{className:"flex items-center mb-6",children:[(0,u.jsx)("img",{src:f,width:"35",alt:"",height:35}),(0,u.jsxs)("div",{className:"flex flex-col items-start pl-4 text-sm",children:[(0,u.jsx)("h4",{className:"font-semibold",children:"Type de repas"}),(0,u.jsxs)("span",{className:"mb-2 text-xs font-semibold",children:[s.typeOfMeal," "]})]})]}),(0,u.jsx)("hr",{className:"border border-barestho-light-gray min-w-full my-10"}),(0,u.jsxs)("div",{className:"flex items-center mb-6",children:[(0,u.jsx)(j.mhe,{size:45}),(0,u.jsxs)("div",{className:"flex flex-col items-start pl-4 text-sm",children:[(0,u.jsx)("h4",{className:"font-semibold",children:"".concat(s.lastname," ").concat(s.firstname)}),(0,u.jsxs)("span",{className:"mb-2 text-xs font-semibold",children:[s.email," "]}),(0,u.jsxs)("span",{className:"mb-2 text-xs font-semibold",children:[s.phoneNumber," "]})]})]})]}),5===n&&(0,u.jsxs)("div",{className:"flex items-center justify-between",children:[(0,u.jsx)(w,{label:""}),(0,u.jsx)("div",{className:"flex justify-between px-6 py-6",children:(0,u.jsx)("button",{onClick:function(){return r(s)},className:"button bg-[#44af69] opacity-90 disabled:text-white select-none transition-colors  py-2 px-2 relative rounded-full font-semibold text-xs text-right border-black hover:bg-black hover:text-white text-white",children:(0,u.jsxs)("span",{className:"h-fit flex justify-center items-center",children:[(0,u.jsx)(T.ddU,{fontSize:20})," R\xe9server"]})})})]})]})};var G=n.p+"static/media/food.5e2b469d831eebd626d47dda84f349b7.svg";var V=n.p+"static/media/phone.759081e3e222591997b2fe049a615edb.svg";var q=function(){return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"px-6 mt-6 mb-5",children:(0,u.jsxs)("div",{className:"flex items-center",children:[(0,u.jsx)("img",{src:G,alt:"",width:35,height:35}),(0,u.jsxs)("ul",{className:"w-full pl-4 pr-1 text-sm mb-4 select-none",children:[(0,u.jsx)("li",{className:"font-semibold",children:" Feeling Food"}),(0,u.jsx)("li",{children:"149, rue de la Station, 7700 Mouscron"}),(0,u.jsxs)("a",{href:"tel:+3256330366",className:"flex text-xs font-semibold p-2 w-36 mt-2 justify-center items-center rounded-full   border-2 border-barestho-blue text-barestho-blue hover:bg-barestho-blue hover:text-white",children:[(0,u.jsx)("img",{src:V,alt:"",width:15,height:15}),"+32 56 33 03 66"]})]})]})}),(0,u.jsx)(O,{})]})};var F=function(){var e=[{label:"Les invit\xe9s",element:C},{label:"Le cr\xe9neau souhait\xe9",element:S},{label:"Le cr\xe9neau souhait\xe9",element:k},{label:"Vos pr\xe9f\xe9rences",element:z},{label:"Vos coordonn\xe9es",element:A},{label:"On y est presque...",element:O},{label:"Merci pour votre r\xe9servation",element:q}],t=x().activeStep;s.useEffect((function(){console.log(t)}),[t]);var n=e[t].element,r=e[t].label;return(0,u.jsxs)("div",{className:"w-full h-auto bg-white font-bold rounded-3xl mb-20",children:[(0,u.jsx)(g,{}),(0,u.jsx)("div",{className:"font-bold text-xl border-b-2 w-full py-4 text-center",children:r}),(0,u.jsx)("div",{children:(0,u.jsx)(n,{})})]})};var J=function(){return(0,u.jsx)(h,{numberOfSteps:4,children:(0,u.jsx)(F,{})})}}}]);
//# sourceMappingURL=114.26a552d0.chunk.js.map